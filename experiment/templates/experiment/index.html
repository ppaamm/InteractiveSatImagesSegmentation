{% extends 'base.html' %}

{%  load static %}

{% block extra_css %}
      <link rel= "stylesheet" href="{% static 'experiment/style.css'%}">
{% endblock %}


{% block content %}

<div class="box">
    <div class="title-container">
        <div class = "title">Display a plot</div>
    </div>
    
    
    
    <div class="main-text">
    <!--
        {% if image_url %}
            <img src="{{ image_url }}" alt="Original image" id="image-display">
        {% else %}
            <p>No image to show.</p>
        {% endif %} -->
        
        <div class="image-overlay-container">
            <img src="{{ background_image_url }}" alt="Background" class="background-image">
            <img src="{{ overlay_image_url }}" alt="Overlay" id="overlay-image" style="opacity: {{ overlay_opacity }};">
        </div>
        
        <div style="margin-top: 15px;">
            <label>
                <input type="checkbox" id="toggle-segmentation" checked>
                Display segmentation
            </label>
        </div>

    </div>
    
</div>

{% endblock %}

{% block script %}
<script>
document.addEventListener("DOMContentLoaded", function () {
    const checkbox = document.getElementById("toggle-segmentation");
    const overlay = document.getElementById("overlay-image");
    
    if (checkbox && overlay) {
        checkbox.addEventListener("change", () => {
            if (checkbox.checked) {
                overlay.style.opacity = "{{ overlay_opacity }}";
            } else {
                overlay.style.opacity = "0";
            }
        });
    }
});
</script>
{% endblock script %}
